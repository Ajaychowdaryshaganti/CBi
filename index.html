<!doctype html>

<html lang="en">
   
   
    <head>


        <!-- META -->
        <meta charset="utf-8">
        <meta name="robots" content="noodp">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <!-- PAGE TITLE -->
        <title>CBi | Stock Management System</title>

        <!-- FAVICON -->
        <link rel="shortcut icon" href="assets/img/favicon.png">

        <!-- FONTS -->
        <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700&amp;subset=latin-ext" rel="stylesheet">

        <!-- STYLESHEETS -->
        <link rel="stylesheet" type="text/css" href="assets/css/plugins.css">
        <link rel="stylesheet" type="text/css" href="assets/css/main.css">


    </head>
<style>
    .input-field1 {
        margin: 2px 0 17px;
        border-radius: 3px;
        display: flex;
        align-items: center;
        color:black;
        font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif
    }
    form {
    margin-top:-6%;
    margin-left: 9%;

    }
    button#fill1 {
        font: 500 1.5rem 'Jost', sans-serif;
        color: black;
        background-color: #fff;
        text-decoration: none;
        border: 2px solid transparent;
        border-radius: 8px;
        padding: 8px 20px;
    }

    #loading-animation {
        display: flex;
        align-items: center;
        justify-content: center;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(242, 242, 242, 0.5);
        z-index: 9999;
    }

    #loading-animation img {
        width: 60%;
        height: 60%;
        margin-left: 10%;
    }

    #page-content {
        transition: ease-in 2s;
        margin-left: 10%;
    }

    #errormsg {
        font-weight: bold;
        color: red;
        margin-left: -20%;
    }
	#rememberMe{
		
		//margin-top:-2%;
	}
	#remember {
    display: flex;
    //align-items: center;
}
#remember input {
  margin-right:2%;
  height:18px;
  width:18px;
}
#bot1{
margin-left:-35%;

}
#cbi {

    text-shadow: black;
}
</style>
    <body>
    
       
        <!-- PRELOADER -->
        <div class="preloader">
           
            <!-- SPINNER -->
            <div class="spinner">
             
              <div class="bounce-1"></div>
              <div class="bounce-2"></div>
              <div class="bounce-3"></div>
              
            </div>
            <!-- /SPINNER -->
            
        </div>
        <!-- /PRELOADER -->


        <!-- HERO -->
        <div class="hero">


            <!-- FRONT CONTENT -->
            <div class="front-content">


                <!-- CONTAINER MID -->
                <div class="container-mid">

                                        <!-- ANIMATION CONTAINER -->
                                        <div class="animation-container animation-fade-down" data-animation-delay="0">
                                            <h4>𝓦𝓮𝓵𝓬𝓸𝓶𝓮</h4>
                                           <h1>𝓢𝓽𝓸𝓬𝓴 𝓜𝓪𝓷𝓪𝓰𝓮𝓶𝓮𝓷𝓽 𝓢𝔂𝓼𝓽𝓮𝓶</h1>
                                           <h3 id="cbi">ᴄʙɪ-ᴇʟᴇᴄᴛʀɪᴄ ᴀᴜꜱᴛʀᴀʟɪᴀ</h3>
                                            
                                        </div>
                                        <!-- /ANIMATION CONTAINER -->
                                        
                    
                    <!-- ANIMATION CONTAINER -->
                    <div class="animation-container animation-fade-right" data-animation-delay="300">
                        
                        <form method="post" action="verify.php">

                            <div class="input-container" style="width:15%;margin-left:40%; margin-top:10%;">
                                <div id="errormsg"></div>
                                <!-- Field for user ID starts -->
                                <div class="input-field1">
                                    <i class="ri-user-fill"></i>
                                    <!-- HTML validation --> <!--required="required" -->
                                    <input type="text" name="username" id="username" maxlength="15" placeholder="Username">
                                </div>
                                <!-- Field for password starts -->
                                <div class="input-field1">
                                    <i class="ri-lock-fill"></i>
                                    <!-- HTML validation -->
                                    <input type="password" name="password" id="password" maxlength="10" placeholder="Password" autofocus>
                                </div>
                                <!-- "Remember Me" checkbox -->
                                <div id="remember">
                                
                                <input type="checkbox" id="rememberMe" name="rememberMe" checked>
                                <label for="rememberMe">Remember Me</label>
                                </div><br>
                                <div id="bot1">
                                <!-- Links for password retrieval, applicant login, and registration -->
                                <div id="fgtpwd"><a onclick="forgotpwd()">Forgot/Change Password?</a></div><br>
                                <div id="float-right">
                                    <!-- Form button that submits input to backend -->
                                    <button id="fill1" class="signinBttn" type="submit" value="submit">Sign In</button>
                                </div></div>
                            </div>
                        </form>
                        
                    </div>
                    <!-- /ANIMATION CONTAINER -->
                    

                    

                </div>
                <!-- /CONTAINER MID -->


                <!-- FOOTER -->
                <div class="footer">
                    

                    <!-- ANIMATION CONTAINER -->
                    <div class="animation-container animation-fade-up" data-animation-delay="1200">
                       
                        <p>© 2024 CBi-Electric | Developed by: <a href="https://au.linkedin.com/in/ajay-shaganti-865256166">Ajay Shaganti</a></p>
                        
                    </div>
                    <!-- /ANIMATION CONTAINER -->
                    

                </div>
                <!-- /FOOTER -->


            </div>
            <!-- /FRONT CONTENT -->


            <!-- BACKGROUND CONTENT --><script>
document.addEventListener("DOMContentLoaded", function () {
    // Check if the "Remember Me" checkbox is selected
    const rememberMeCheckbox = document.getElementById("rememberMe");
    if (rememberMeCheckbox) {
        const storedUsername = getCookie("rememberedUsername");

        if (storedUsername) {
            // Auto-fill the username field with the stored username
            document.getElementById("username").value = storedUsername;
        }
    }

    setTimeout(function () {
        //document.getElementById("loading-animation").style.display = "none";
        //document.getElementById("page-content").style.display = "block";
    }, 3000);

    // Add an event listener to the Sign In button
    document.querySelector(".signinBttn").addEventListener("click", function (event) {
        event.preventDefault(); // Prevent the form submission

        // Get the username and password from the input fields
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;

        // Check if the "Remember Me" checkbox is selected
        if (rememberMeCheckbox.checked) {
            // Store the username in a cookie that expires in 30 days
            setCookie("rememberedUsername", username, 30);
        } else {
            // Clear the stored username cookie
            deleteCookie("rememberedUsername");
        }

        // Create a new XMLHttpRequest object
        const xhr = new XMLHttpRequest();

        // Define the request method, URL, and whether it should be asynchronous
        xhr.open("POST", "verify.php", true);

        // Set the request header for POST data
        xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

        // Define the callback function to handle the response
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                // Parse the JSON response
                const response = JSON.parse(xhr.responseText);

                if (response.status === 'success') {
                    switch (response.accesslevel) {
                        case 1:
                            window.location.href = "Dashboard.php";
                            break;
                        case 2:
                            window.location.href = "prodschedule2.php";
                            break;
                        case 3:
                            window.location.href = "prodschedule-tester.php";
                            break;
                        case 4:
                            window.location.href = "Dashboard4.php";
                            break;
                        default:
                            // Handle other access levels or unknown cases
                            break;
                    }
                } else {
                    // Handle the error case or display an error message
                    // For example:
                    document.getElementById("errormsg").innerText = response.message;
                }
            }
        };

        // Send the POST request with username and password as parameters
        xhr.send("username=" + username + "&password=" + password);
    });
});

function setCookie(name, value, days) {
    const date = new Date();
    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
    const expires = "expires=" + date.toUTCString();
    document.cookie = name + "=" + value + "; " + expires;
}

function getCookie(name) {
    const cookieName = name + "=";
    const cookies = document.cookie.split(';');
    for (let i = 0; i < cookies.length; i++) {
        const cookie = cookies[i].trim();
        if (cookie.indexOf(cookieName) === 0) {
            return cookie.substring(cookieName.length, cookie.length);
        }
    }
    return null;
}

function forgotpwd() {
    // Get the username from the input field
    var username = document.getElementById("username").value;

    if (username.trim() === "") {
        // Display an error message if the username is empty
        var errormsg = document.getElementById("errormsg");
        errormsg.style.color = "red";
        errormsg.style.marginLeft = "0"; // Set margin-left to 0
        errormsg.textContent = "Please enter a username before clicking on the reset link.";
        return;
    }

    // Create a new XMLHttpRequest object
    var xhr = new XMLHttpRequest();

    // Define the URL of the PHP script
    var url = "forgotpwd.php";

    // Specify the HTTP method (POST) and the URL
    xhr.open("POST", url, true);

    // Set the request header
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

    // Define a callback function to handle the response
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            if (xhr.status === 200) {
                // Parse the JSON response
                var response = JSON.parse(xhr.responseText);

                if (response.status === "success") {
                    // Display a success message in black color in the "errormsg" div
                    var errormsg = document.getElementById("errormsg");
                    errormsg.style.color = "green";
                    errormsg.style.marginLeft = "0%"; // Restore the margin-left if needed
                    errormsg.textContent = response.message;
                } else {
                    // Handle other response scenarios, if needed
                    alert(response.message); // Display other responses as alerts
                }
            } else {
                // Handle non-200 HTTP status codes, if needed
                alert("Error: " + xhr.status);
            }
        }
    };

    // Send the username to the PHP script
    xhr.send("username=" + username);
}

function deleteCookie(name) {
  setCookie(name, "", -1);
}

</script>

            <div class="background-content parallax-on">

                <div class="background-overlay"></div>
                <div class="background-img layer" data-depth="0.05"></div>
                
            </div>
            <!-- /BACKGROUND CONTENT -->


        </div>
        <!-- /HERO -->



        <!-- JAVASCRIPTS -->
        <script type="text/javascript" src="assets/js/plugins.js"></script>
        <script type="text/javascript" src="assets/js/main.js"></script>


    </body> 
    
    
</html>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Check if the "Remember Me" checkbox is selected
        const rememberMeCheckbox = document.getElementById("rememberMe");
        if (rememberMeCheckbox) {
            const storedUsername = getCookie("rememberedUsername");
    
            if (storedUsername) {
                // Auto-fill the username field with the stored username
                document.getElementById("username").value = storedUsername;
            }
        }
    
        setTimeout(function () {
            //document.getElementById("loading-animation").style.display = "none";
            //document.getElementById("page-content").style.display = "block";
        }, 3000);
    
        // Add an event listener to the Sign In button
        document.querySelector(".signinBttn").addEventListener("click", function (event) {
            event.preventDefault(); // Prevent the form submission
    
            // Get the username and password from the input fields
            const username = document.getElementById("username").value;
            const password = document.getElementById("password").value;
    
            // Check if the "Remember Me" checkbox is selected
            if (rememberMeCheckbox.checked) {
                // Store the username in a cookie that expires in 30 days
                setCookie("rememberedUsername", username, 30);
            } else {
                // Clear the stored username cookie
                deleteCookie("rememberedUsername");
            }
    
            // Create a new XMLHttpRequest object
            const xhr = new XMLHttpRequest();
    
            // Define the request method, URL, and whether it should be asynchronous
            xhr.open("POST", "verify.php", true);
    
            // Set the request header for POST data
            xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    
            // Define the callback function to handle the response
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    // Parse the JSON response
                    const response = JSON.parse(xhr.responseText);
    
                    if (response.status === 'success') {
                        switch (response.accesslevel) {
                            case 1:
                                window.location.href = "Dashboard.php";
                                break;
                            case 2:
                                window.location.href = "prodschedule2.php";
                                break;
                            case 3:
                                window.location.href = "prodschedule-tester.php";
                                break;
                            case 4:
                                window.location.href = "Dashboard4.php";
                                break;
                            default:
                                // Handle other access levels or unknown cases
                                break;
                        }
                    } else {
                        // Handle the error case or display an error message
                        // For example:
                        document.getElementById("errormsg").innerText = response.message;
                    }
                }
            };
    
            // Send the POST request with username and password as parameters
            xhr.send("username=" + username + "&password=" + password);
        });
    });
    
    function setCookie(name, value, days) {
        const date = new Date();
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
        const expires = "expires=" + date.toUTCString();
        document.cookie = name + "=" + value + "; " + expires;
    }
    
    function getCookie(name) {
        const cookieName = name + "=";
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.indexOf(cookieName) === 0) {
                return cookie.substring(cookieName.length, cookie.length);
            }
        }
        return null;
    }
    
    function forgotpwd() {
        // Get the username from the input field
        var username = document.getElementById("username").value;
    
        if (username.trim() === "") {
            // Display an error message if the username is empty
            var errormsg = document.getElementById("errormsg");
            errormsg.style.color = "red";
            errormsg.style.marginLeft = "0"; // Set margin-left to 0
            errormsg.textContent = "Please enter a username before clicking on the reset link.";
            return;
        }
    
        // Create a new XMLHttpRequest object
        var xhr = new XMLHttpRequest();
    
        // Define the URL of the PHP script
        var url = "forgotpwd.php";
    
        // Specify the HTTP method (POST) and the URL
        xhr.open("POST", url, true);
    
        // Set the request header
        xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    
        // Define a callback function to handle the response
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                if (xhr.status === 200) {
                    // Parse the JSON response
                    var response = JSON.parse(xhr.responseText);
    
                    if (response.status === "success") {
                        // Display a success message in black color in the "errormsg" div
                        var errormsg = document.getElementById("errormsg");
                        errormsg.style.color = "green";
                        errormsg.style.marginLeft = "0%"; // Restore the margin-left if needed
                        errormsg.textContent = response.message;
                    } else {
                        // Handle other response scenarios, if needed
                        alert(response.message); // Display other responses as alerts
                    }
                } else {
                    // Handle non-200 HTTP status codes, if needed
                    alert("Error: " + xhr.status);
                }
            }
        };
    
        // Send the username to the PHP script
        xhr.send("username=" + username);
    }
    
    function deleteCookie(name) {
      setCookie(name, "", -1);
    }
    
    </script>
    